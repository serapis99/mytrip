"use strict";(self.webpackChunkmy_trip=self.webpackChunkmy_trip||[]).push([[1993],{3905:(e,a,t)=>{t.d(a,{Zo:()=>p,kt:()=>d});var o=t(7294);function n(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}function r(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);a&&(o=o.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,o)}return t}function s(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?r(Object(t),!0).forEach((function(a){n(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):r(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}function l(e,a){if(null==e)return{};var t,o,n=function(e,a){if(null==e)return{};var t,o,n={},r=Object.keys(e);for(o=0;o<r.length;o++)t=r[o],a.indexOf(t)>=0||(n[t]=e[t]);return n}(e,a);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(o=0;o<r.length;o++)t=r[o],a.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(n[t]=e[t])}return n}var i=o.createContext({}),c=function(e){var a=o.useContext(i),t=a;return e&&(t="function"==typeof e?e(a):s(s({},a),e)),t},p=function(e){var a=c(e.components);return o.createElement(i.Provider,{value:a},e.children)},u={inlineCode:"code",wrapper:function(e){var a=e.children;return o.createElement(o.Fragment,{},a)}},m=o.forwardRef((function(e,a){var t=e.components,n=e.mdxType,r=e.originalType,i=e.parentName,p=l(e,["components","mdxType","originalType","parentName"]),m=c(t),d=n,f=m["".concat(i,".").concat(d)]||m[d]||u[d]||r;return t?o.createElement(f,s(s({ref:a},p),{},{components:t})):o.createElement(f,s({ref:a},p))}));function d(e,a){var t=arguments,n=a&&a.mdxType;if("string"==typeof e||n){var r=t.length,s=new Array(r);s[0]=m;var l={};for(var i in a)hasOwnProperty.call(a,i)&&(l[i]=a[i]);l.originalType=e,l.mdxType="string"==typeof e?e:n,s[1]=l;for(var c=2;c<r;c++)s[c]=t[c];return o.createElement.apply(null,s)}return o.createElement.apply(null,t)}m.displayName="MDXCreateElement"},7984:(e,a,t)=>{t.r(a),t.d(a,{assets:()=>i,contentTitle:()=>s,default:()=>u,frontMatter:()=>r,metadata:()=>l,toc:()=>c});var o=t(7462),n=(t(7294),t(3905));const r={},s="Objeto XMLHTTPRequest o AJAX",l={unversionedId:"WEB/javascript/peticiones_http/objeto_XMLHTTPRequest",id:"WEB/javascript/peticiones_http/objeto_XMLHTTPRequest",title:"Objeto XMLHTTPRequest o AJAX",description:"es una peticion asincronica lo que nos permite cargar la pagina y utilizarla mientras se cargan los datos que se estan solicitando por AJAX debido a las actualizaciones del lenguaje existen dos formas de hacer peticiones AJAX.",source:"@site/docs/WEB/javascript/12_peticiones_http/01_objeto_XMLHTTPRequest.md",sourceDirName:"WEB/javascript/12_peticiones_http",slug:"/WEB/javascript/peticiones_http/objeto_XMLHTTPRequest",permalink:"/mytrip/docs/WEB/javascript/peticiones_http/objeto_XMLHTTPRequest",draft:!1,tags:[],version:"current",sidebarPosition:1,frontMatter:{},sidebar:"JS",previous:{title:"Manejo de estilos desde javascript",permalink:"/mytrip/docs/WEB/javascript/document_object_model/estilos"},next:{title:"Callbacks",permalink:"/mytrip/docs/WEB/javascript/peticiones_http/callbacks"}},i={},c=[{value:"Forma Antigua (NO RECOMENDADA)",id:"forma-antigua-no-recomendada",level:2},{value:"Nueva Forma (RECOMENDADA)",id:"nueva-forma-recomendada",level:2},{value:"Pasar valores en el metodo GET",id:"pasar-valores-en-el-metodo-get",level:2},{value:"Pasar valores en el metodo POST",id:"pasar-valores-en-el-metodo-post",level:2},{value:"crear objeto FormData propio",id:"crear-objeto-formdata-propio",level:3},{value:"crear objeto FormData con formularios",id:"crear-objeto-formdata-con-formularios",level:3}],p={toc:c};function u(e){let{components:a,...t}=e;return(0,n.kt)("wrapper",(0,o.Z)({},p,t,{components:a,mdxType:"MDXLayout"}),(0,n.kt)("h1",{id:"objeto-xmlhttprequest-o-ajax"},"Objeto XMLHTTPRequest o AJAX"),(0,n.kt)("p",null,"es una peticion asincronica lo que nos permite cargar la pagina y utilizarla mientras se cargan los datos que se estan solicitando por AJAX debido a las actualizaciones del lenguaje existen dos formas de hacer peticiones AJAX."),(0,n.kt)("ol",null,(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("a",{parentName:"li",href:"#forma-antigua-no-recomendada"},"forma antigua")),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("a",{parentName:"li",href:"#nueva-forma-recomendada"},"forma nueva")),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("a",{parentName:"li",href:"#pasar-valores-en-el-metodo-get"},"variables por get")),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("a",{parentName:"li",href:"#pasar-valores-en-el-metodo-post"},"variables por post"))),(0,n.kt)("h2",{id:"forma-antigua-no-recomendada"},"Forma Antigua (NO RECOMENDADA)"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-javascript"},"\nconst button=document.getElementById('button');\nbutton.addEventListener('click',()=>{\n    \n    //creamos variable para almacenar objeto ajax\n    let xhr;\n\n    //se pregunta si existe el objeto XMLHttpRequest si no se usa el objeto ActiveXObject('Microsoft.XMLHTTP') para crear el objeto ajax\n    if(window.XMLHttpRequest){\n        xhr = new XMLHttpRequest();\n    }else{\n        xhr=new ActiveXObject('Microsoft.XMLHTTP');\n    }\n\n    //se abre la conexion\n    xhr.open('GET','https://jsonplaceholder.typicode.com/users');\n\n    // se indica que hacer cuando la peticion fue exitosa\n    xhr.onreadystatechange = function() {\n        if(this.readyState==4 && this.status==200){\n            console.log(JSON.parse(this.responseText));\n        }\n    }\n\n    //se envia la peticion\n    xhr.send()\n\n});\n")),(0,n.kt)("h2",{id:"nueva-forma-recomendada"},"Nueva Forma (RECOMENDADA)"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-javascript"},"\nconst button=document.getElementById('button');\n\nbutton.addEventListener('click',()=>{\n    \n    //creamos variable para almacenar objeto ajax\n    let xhr;\n\n    //se pregunta si existe el objeto XMLHttpRequest si no se usa el objeto ActiveXObject('Microsoft.XMLHTTP') para crear el objeto ajax\n\n    if(window.XMLHttpRequest){\n        xhr = new XMLHttpRequest();\n    }else{\n        xhr=new ActiveXObject('Microsoft.XMLHTTP');\n    }\n\n    //se abre la conexion\n    xhr.open('GET','https://jsonplaceholder.typicode.com/users');\n\n    //se indica que queremos hacer con la respuesta\n    xhr.addEventListener('load',(data)=>{\n        //console.log(data.target.response); // nos devuelve la respuesta en string\n        console.log(JSON.parse(data.target.response));\n    })\n\n    //se envia la peticion\n    xhr.send()\n\n});\n")),(0,n.kt)("h2",{id:"pasar-valores-en-el-metodo-get"},"Pasar valores en el metodo GET"),(0,n.kt)("p",null,"cuando tratamos con el metodo get podemos pasar los datos directamente en la url al momento de abrir la conexion."),(0,n.kt)("p",null,"eso se hace creando un signo de pregunta ",(0,n.kt)("inlineCode",{parentName:"p"},"alt"),"+",(0,n.kt)("inlineCode",{parentName:"p"},"63")," que le indica a la peticion que hasta hay va la direccion y que lo que siguen son parametros los parametros se separan con el simbolo ampersand ",(0,n.kt)("inlineCode",{parentName:"p"},"alt"),"+",(0,n.kt)("inlineCode",{parentName:"p"},"38")," y cada dato que se pasa tiene clave valor."),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-javascript"},"xhr.open('GET','https://jsonplaceholder.typicode.com/users?id=1');\n")),(0,n.kt)("h2",{id:"pasar-valores-en-el-metodo-post"},"Pasar valores en el metodo POST"),(0,n.kt)("p",null,"Para lograr pasar datos usando el metodo POST debemos usar el objeto ",(0,n.kt)("a",{parentName:"p",href:"https://developer.mozilla.org/es/docs/Web/API/FormData"},(0,n.kt)("strong",{parentName:"a"},"FormData"))," que copila un conjunto de datos clave/valor. podemos crearlo nosotros mismos o pasarle los datos de un formulario directamente cuando se construye el objeto."),(0,n.kt)("h3",{id:"crear-objeto-formdata-propio"},"crear objeto FormData propio"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-javascript"},'//se crea el objeto FormData\nlet formData= new FormData();\n\n//se agrega los datos que queremos\nformData.append("username","ruben");\nformData.append("accountnum","123456");\n\n//ejemplo minimo de objeto ajax recordar usar la nueva forma\nlet request=new XMLHttpRequest();\nrequest.open("POST","url");\n\n//falta la parte de como se trataran los datos devueltos\n\n\n//envia la peticion con los datos como parametro\nrequest.send(formData);\n\n')),(0,n.kt)("h3",{id:"crear-objeto-formdata-con-formularios"},"crear objeto FormData con formularios"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-javascript"},'\n//se obtiene el objeto formulario\nlet form=document.from("formulario");\n\nconst formData=new FormData(form);\n\n//se crea el objeto ajax Nota: Usar la nueva forma. \nlet request=new XMLHttpRequest();\n\nrequest.open("POST","URL");\n\n//se hace la peticion con los datos del formulario\nrequest.send(formData);\n')))}u.isMDXComponent=!0}}]);